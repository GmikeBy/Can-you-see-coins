<!DOCTYPE html>
<html>
<head>
    <title>–ò–≥—Ä–∞: –°–æ–±–µ—Ä–∏ –º–æ–Ω–µ—Ç—ã</title>
    <style>
        #gameArea {
            width: 600px;
            height: 400px;
            border: 1px solid black;
            position: relative;
            margin-top: 20px;
        }

        #player {
            position: absolute;
            bottom: 0;
            left: 50px;
            font-size: 30px;
            transition: bottom 0.3s ease-in-out;
        }

        .coin {
            position: absolute;
            font-size: 30px;
        }

        button {
            margin: 10px;
        }

        .btn-container {
            position: absolute;
            top: 420px;
            width: 600px;
            text-align: center;
        }

        .level {
            position: absolute;
            width: 100%;
            height: 5px;
            background-color: black;
        }
    </style>
</head>
<body>
    <h1>–ò–≥—Ä–∞: –°–æ–±–µ—Ä–∏ –º–æ–Ω–µ—Ç—ã</h1>

    <p>–ò—Å–ø–æ–ª—å–∑—É–π –≤–æ–æ–±—Ä–∞–∂–µ–Ω–∏–µ, —á—Ç–æ–±—ã –¥–≤–∏–≥–∞—Ç—å—Å—è –ø–æ –∫–∞—Ä—Ç–µ –∏ —Å–æ–±–∏—Ä–∞—Ç—å –º–æ–Ω–µ—Ç—ã!</p>

    <hr>

    <div id="gameArea">
        <!-- –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ —Å —É—Ä–æ–≤–Ω—è–º–∏ -->
        <div class="level" style="top: 80px;"></div>
        <div class="level" style="top: 160px;"></div>
        <div class="level" style="top: 240px;"></div>
        <div class="level" style="top: 320px;"></div>

        <p id="player">üü¶</p>
        <p class="coin" id="coin1" style="left: 150px; bottom: 80px;">üü°</p>
        <p class="coin" id="coin2" style="left: 300px; bottom: 160px;">üü°</p>
        <p class="coin" id="coin3" style="left: 450px; bottom: 240px;">üü°</p>
    </div>

    <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</h2>

    <div class="btn-container">
        <button onclick="moveLeft()">‚¨Ö –í–ª–µ–≤–æ</button>
        <button onclick="moveRight()">–í–ø—Ä–∞–≤–æ ‚û°</button>
        <button onclick="jump()">‚¨Ü –ü—Ä—ã–∂–æ–∫</button>
    </div>

    <p id="message"></p>
    <p>–í—Ä–µ–º—è: <span id="timer">60</span> —Å–µ–∫—É–Ω–¥</p>

    <script>
        // –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –∏–≥—Ä–æ–∫–∞
        let player = document.getElementById("player");
        let gameArea = document.getElementById("gameArea");
        let playerPosition = 50;  // –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –∏–≥—Ä–æ–∫–∞
        let playerBottom = 0;     // –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –∏–≥—Ä–æ–∫–∞ –ø–æ –≤—ã—Å–æ—Ç–µ
        let score = 0;            // –°—á–µ—Ç –∑–∞ —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –º–æ–Ω–µ—Ç—ã
        let timer = 60;           // –¢–∞–π–º–µ—Ä –Ω–∞ 60 —Å–µ–∫—É–Ω–¥
        let gameOver = false;     // –§–ª–∞–≥ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–≥—Ä—ã
        let level = 1;            // –£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

        // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä—ã–∂–∫–æ–≤
        let jumpHeight = 50;     // –í—ã—Å–æ—Ç–∞ –æ–¥–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è –ø—Ä—ã–∂–∫–∞
        let isJumping = false;   // –§–ª–∞–≥ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏, –ø—Ä—ã–≥–∞–µ—Ç –ª–∏ –∏–≥—Ä–æ–∫
        let jumpMultiplier = 0;  // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Ä–æ–≤–Ω–µ–π –ø—Ä—ã–∂–∫–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0)

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞
        function updateTimer() {
            if (timer > 0 && !gameOver) {
                timer--;
                document.getElementById("timer").textContent = timer;
            } else if (timer === 0 && !gameOver) {
                endGame("–í—Ä–µ–º—è –≤—ã—à–ª–æ! –¢—ã –ø—Ä–æ–∏–≥—Ä–∞–ª.");
            }
        }

        // –ó–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
        setInterval(updateTimer, 1000);

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–≤–∏–∂–µ–Ω–∏—è –≤–ª–µ–≤–æ
        function moveLeft() {
            if (!gameOver) {
                if (playerPosition > 0) {
                    playerPosition -= 20;  // –î–≤–∏–≥–∞—Ç—å—Å—è –Ω–∞ 20px –≤–ª–µ–≤–æ
                    player.style.left = playerPosition + "px";
                    checkCoinCollection();
                }
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–≤–∏–∂–µ–Ω–∏—è –≤–ø—Ä–∞–≤–æ
        function moveRight() {
            if (!gameOver) {
                if (playerPosition < gameArea.offsetWidth - player.offsetWidth) {
                    playerPosition += 20;  // –î–≤–∏–≥–∞—Ç—å—Å—è –Ω–∞ 20px –≤–ø—Ä–∞–≤–æ
                    player.style.left = playerPosition + "px";
                    checkCoinCollection();
                }
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä—ã–∂–∫–æ–≤
        function jump() {
            if (!gameOver && !isJumping) {
                isJumping = true;

                // –ü–æ–ª—É—á–∞–µ–º –≤—ã—Å–æ—Ç—É –ø—Ä—ã–∂–∫–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –Ω–∞–∂–∞—Ç–∏–π
                let totalJumpHeight = jumpHeight * (jumpMultiplier + 1);
                let maxJumpHeight = playerBottom + totalJumpHeight;
                let currentHeight = playerBottom;

                // –ü–æ–¥–Ω–∏–º–µ–º –∏–≥—Ä–æ–∫–∞ –¥–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –≤—ã—Å–æ—Ç—ã
                let jumpInterval = setInterval(function() {
                    if (currentHeight < maxJumpHeight) {
                        currentHeight += 10; // –ü—Ä–∏–±–∞–≤–ª—è–µ–º –ø–æ 10 –ø–∏–∫—Å–µ–ª–µ–π –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ
                        player.style.bottom = currentHeight + "px";
                    } else {
                        clearInterval(jumpInterval); // –ü—Ä–µ–∫—Ä–∞—Ç–∏—Ç—å –ø–æ–¥—ä–µ–º

                        // –ü–æ—Å–ª–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –≤—ã—Å–æ—Ç—ã –∏–≥—Ä–æ–∫ –Ω–∞—á–Ω–µ—Ç –ø–∞–¥–∞—Ç—å
                        let fallInterval = setInterval(function() {
                            if (currentHeight > playerBottom) {
                                currentHeight -= 10; // –ü–ª–∞–≤–Ω–æ–µ –ø–∞–¥–µ–Ω–∏–µ
                                player.style.bottom = currentHeight + "px";
                            } else {
                                clearInterval(fallInterval); // –ü—Ä–µ–∫—Ä–∞—Ç–∏—Ç—å –ø–∞–¥–µ–Ω–∏–µ
                                isJumping = false; // –ò–≥—Ä–æ–∫ –±–æ–ª—å—à–µ –Ω–µ –ø—Ä—ã–≥–∞–µ—Ç
                                checkCoinCollection(); // –ü—Ä–æ–≤–µ—Ä–∏–º, —Å–æ–±—Ä–∞–ª –ª–∏ –∏–≥—Ä–æ–∫ –º–æ–Ω–µ—Ç—ã
                            }
                        }, 30);
                    }
                }, 30);
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –≤—ã—Å–æ—Ç—ã –ø—Ä—ã–∂–∫–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –Ω–∞–∂–∞—Ç–∏–∏
        function increaseJumpHeight() {
            if (!isJumping) {
                jumpMultiplier++; // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –≤—ã—Å–æ—Ç—É –ø—Ä—ã–∂–∫–∞
                if (jumpMultiplier > 2) jumpMultiplier = 2; // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –ø—Ä—ã–∂–æ–∫ –¥–æ —Ç—Ä–µ—Ç—å–µ–≥–æ —É—Ä–æ–≤–Ω—è
                jump();
            }
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞, —Å–æ–±—Ä–∞–ª –ª–∏ –∏–≥—Ä–æ–∫ –º–æ–Ω–µ—Ç—É
        function checkCoinCollection() {
            let coins = document.querySelectorAll('.coin');
            coins.forEach(function(coin) {
                let coinRect = coin.getBoundingClientRect();
                let playerRect = player.getBoundingClientRect();

                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—Ç–æ–ª–∫–Ω—É–ª—Å—è –ª–∏ –∏–≥—Ä–æ–∫ —Å –º–æ–Ω–µ—Ç–æ–π
                if (playerRect.left < coinRect.right &&
                    playerRect.right > coinRect.left &&
                    playerRect.top < coinRect.bottom &&
                    playerRect.bottom > coinRect.top) {
                    coin.style.display = 'none'; // –ü—Ä—è—á–µ–º –º–æ–Ω–µ—Ç—É
                    score++; // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç
                    document.getElementById("message").textContent = "–°–æ–±—Ä–∞–Ω–æ –º–æ–Ω–µ—Ç: " + score;

                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤—ã–∏–≥—Ä–∞–ª –ª–∏ –∏–≥—Ä–æ–∫
                    if (score === 3) {
                        nextLevel();
                    }
                }
            });
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å
        function nextLevel() {
            level++; // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —É—Ä–æ–≤–µ–Ω—å
            score = 0; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—á–µ—Ç
            document.getElementById("message").textContent = "–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –¢—ã –ø–µ—Ä–µ—à–µ–ª –Ω–∞ —É—Ä–æ–≤–µ–Ω—å " + level;
            timer = 60 - level * 5; // –£–º–µ–Ω—å—à–∞–µ–º –≤—Ä–µ–º—è —Å –∫–∞–∂–¥—ã–º —É—Ä–æ–≤–Ω–µ–º
            if (timer < 10) timer = 10; // –ú–∏–Ω–∏–º—É–º 10 —Å–µ–∫—É–Ω–¥
            updateCoins();
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–æ–Ω–µ—Ç –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ
        function updateCoins() {
            let coins = document.querySelectorAll('.coin');
            coins.forEach(function(coin) {
                coin.style.display = 'block';  // –î–µ–ª–∞–µ–º –º–æ–Ω–µ—Ç—ã –≤–∏–¥–∏–º—ã–º–∏
                coin.style.left = Math.random() * (gameArea.offsetWidth - 30) + "px"; // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –ø–æ –æ—Å–∏ X
                coin.style.bottom = Math.random() * (gameArea.offsetHeight - 30) + "px"; // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –ø–æ –æ—Å–∏ Y
            });

            // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–µ –º–æ–Ω–µ—Ç—ã, –µ—Å–ª–∏ —É—Ä–æ–≤–µ–Ω—å –≤—ã—à–µ 1
            if (level > 1) {
                let newCoin = document.createElement('p');
                newCoin.className = 'coin';
                newCoin.style.left = Math.random() * (gameArea.offsetWidth - 30) + "px";
                newCoin.style.bottom = Math.random() * (gameArea.offsetHeight - 30) + "px";
                newCoin.textContent = 'üü°';
                gameArea.appendChild(newCoin);
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–≥—Ä—ã
        function endGame(message) {
            gameOver = true;
            document.getElementById("message").textContent = message;
        }

        // –û–±–Ω–æ–≤–ª—è–µ–º –º–æ–Ω–µ—Ç—ã –≤ –Ω–∞—á–∞–ª–µ –∏–≥—Ä—ã
        updateCoins();

        // –ü–æ–≤—Ç–æ—Ä—è–µ–º –ø—Ä—ã–∂–æ–∫ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –Ω–∞–∂–∞—Ç–∏–∏
        document.querySelector("button:nth-child(3)").addEventListener("click", increaseJumpHeight);
    </script>
</body>
</html>
